<!DOCTYPE html>
<html>
<head>
<title>Cube Engine v1.0</title>
<meta name="description" content="Cube Engine: an HTML5 3D engine">
<meta charset="utf-8">

<link rel="shortcut icon" href="media/logo.png">
<link type="text/css" rel="stylesheet" href="style/style.css">
<script type="text/javascript" src="js/player.js"></script>
<script type="text/javascript" src="js/save.js"></script>
<script type="text/javascript" src="js/map.js"></script>
<script type="text/javascript" src="js/node.js"></script>
<script type="text/javascript" src="js/world.js"></script>
<script type="text/javascript" src="js/render.js"></script>
<script type="text/javascript" src="js/TouchControl.js"></script>
<script type="text/javascript" src="js/msgType.js"></script>
<script type="text/javascript" src="js/gameWrapper.js"></script>
<script type="text/javascript">
	toggleJoystick = function (elem) {
		if (elem.style.display === "none") {
			elem.style.display = "block";
		} else {
			elem.style.display = "none";
		}
	}
</script>

</head>
<body>

<div id="controls">
	<h1>Cube Engine v1.0</h1>
    <ul>
        <li><a href="https://github.com/Nurgak/Cube-engine">Download the source</a></li>
    </ul>
	<h2>Controls</h2>
	<ul>
		<li>WASD: Movement</li>
		<li>Arrows: Rotation</li>
		<li>Space: Jump</li>
        <li>Left click: Place block</li>
        <li>Right click: Remove block</li>
	</ul>
	<h2>Options</h2>
	<ul>
		<li><u>H</u>UD: <input type="checkbox" checked="yes" onchange="renderer.hud = this.checked;" accesskey="h"></li>
		<li><u>G</u>ravity: <input type="checkbox" checked="yes" onchange="player.gravity = this.checked;" accesskey="g"></li>
		<li><u>C</u>ollision detection: <input type="checkbox" checked="yes" onclick="player.collision = this.checked;" accesskey="c"></li>
		<li><u>P</u>erformace graph: <input type="checkbox" onchange="renderer.graph = this.checked;" accesskey="p"></li>
		<li><u>M</u>ap: <input type="checkbox" onchange="renderer.map = this.checked;" accesskey="m"></li>
		<li><input type="button" value="Lock pointer" onclick="renderer.lockPointer();"></li>
		<li><input type="button" value="Joystick" onclick="toggleJoystick(document.getElementById('joystick'))"></li>
		<li>Focal length:<br>
			<input type="range" min="100" max="1000" value="500" onchange="renderer.focalLength = this.value">
		</li>
		<li>Render distance:<br>
			<input type="range" min="20" max="1024" value="100" onchange="renderer.changeRenderDist(this.value);">
		</li>
		<li><u>R</u>ender mode:<br>
			<select onchange="renderer.renderMode = this.value;" accesskey="r">
				<option value="0">Plain color</option>
				<option value="1" selected>Textured</option>
			</select>
		</li>
		<li><u>T</u>ype:<br>
			<select id="type" accesskey="t">
				<optgroup label="Construction">
					<option value="dirt">Dirt</option>
					<option value="grass">Grass</option>
					<option value="stone">Stone</option>
					<option value="cobblestone">Cobblestone</option>
					<option value="wood">Wood</option>
					<option value="planks">Wooden planks</option>
					<option value="sand">Sand</option>
					<option value="sandstone">Sand stone</option>
					<option value="glass">Glass</option>
					<option value="bricks">Brick</option>
					<option value="water">Water</option>
					<option value="ice">Ice</option>
					<option value="snow">Snow</option>
					<option value="leaves">Leaves</option>
					<option value="lava">Lava</option>
					<option value="gravel">Gravel</option>
					<option value="obsidian">Obsidian</option>
					<option value="stoneblock">Stone block</option>
					<option value="cobweb">Cobweb</option>
				</optgroup>
				<optgroup label="Cloth">
					<option value="white">White</option>
					<option value="black">Black</option>
					<option value="darkgray">Dark gray</option>
					<option value="gray">Gray</option>
					<option value="red">Red</option>
					<option value="rose">Rose</option>
					<option value="green">Green</option>
					<option value="lime">Lime</option>
					<option value="brown">Brown</option>
					<option value="yellow">Yellow</option>
					<option value="blue">Blue</option>
					<option value="lightblue">Light blue</option>
					<option value="purple">Purple</option>
					<option value="magneta">Magneta</option>
					<option value="cyan">Cyan</option>
					<option value="orange">Orange</option>
				</optgroup>
			</select>
		</li>
	</ul>
</div>
<div id="connectDialog">
    <h1 style="color:white">Connect to a server</h1>
    <label>Server IP Address</label>
    <input id="ipaddr" type="text" placeholder="Server IP Address" value="82.25.48.194" disabled/>
    <label>Player Name - пишете си някъв никнейм и <u><b>браузъра</b></u> моля :)</label>
    <input id="pname" type="text" placeholder="Player name" value="Guest"/>
    <button id="btnConnect" onclick="g.connect()">Connect</button>
</div>
<canvas id="canvas" tabindex="1"></canvas>

<!-- Chat window -->
<div id="chat">
    <div id="history"></div>
    <input id="txtMessage" type="text" autocomplete="off" placeholder="Press Enter to chat">
</div>

<joystick id="joystick" style="display: none;"></joystick>
<script type="text/javascript">

    var canvas = document.getElementById("canvas");
    document.getElementById("ipaddr").value = location.origin.replace(/^http/, 'ws');
    g = new Game(canvas);

</script>

</body>
</html>
